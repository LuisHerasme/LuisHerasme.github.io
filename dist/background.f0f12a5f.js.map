{"version":3,"sources":["background.js"],"names":["canvas","document","getElementById","width","window","innerWidth","height","innerHeight","context","getContext","MOUSE","x","y","Bodies","body","addEventListener","e","clientX","clientY","Body","color","velocity","acceleration","size","data","mag","Math","hypot","random","red","round","circle","AMOUNT","init","push","clear","clearRect","s","c","beginPath","fillStyle","arc","PI","fill","img","drawImage","update","forEach","bees","first_time","bees_interval","setInterval","clearInterval"],"mappings":"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","file":"background.f0f12a5f.js","sourceRoot":"..","sourcesContent":["const canvas = document.getElementById(\"can\");\r\ncanvas.width = window.innerWidth;\r\ncanvas.height = window.innerHeight;\r\nconst context = canvas.getContext(\"2d\");\r\n/*\r\nconst arrow = new Image();\r\narrow.src =\r\n  \"https://upload.wikimedia.org/wikipedia/commons/7/72/Arrow_southeast.svg\";\r\n*/\r\nconst MOUSE = { x: 0, y: 0 };\r\nlet Bodies = [];\r\n\r\ndocument.body.addEventListener(\"mousemove\", e => {\r\n  MOUSE.x = e.clientX;\r\n  MOUSE.y = e.clientY;\r\n});\r\n\r\nclass Body {\r\n  constructor(x, y) {\r\n    this.x = x;\r\n    this.y = y;\r\n    this.color = \"#fffde7\";\r\n\r\n    this.velocity = {\r\n      x: 0,\r\n      y: 0\r\n    };\r\n\r\n    this.acceleration = {\r\n      x: 0,\r\n      y: 0\r\n    };\r\n\r\n    this.size = 1;\r\n  }\r\n\r\n  update(data) {\r\n    //let color = getPixel(this.x / 40, this.y / 40, data);\r\n    //console.log(`rgb(${color.r}, ${color.g}, ${color.b})`);\r\n    //this.color = `rgb(${color.r}, ${color.g}, ${color.b})`;\r\n\r\n    let x = MOUSE.x - this.x;\r\n    let y = MOUSE.y - this.y;\r\n    //let angle = Math.atan2(y, x);\r\n    let mag = Math.hypot(x, y);\r\n    x = (x * 1) / mag;\r\n    y = (y * 1) / mag;\r\n    this.velocity.x += -1 + Math.random() * 2;\r\n    this.velocity.y += -1 + Math.random() * 2;\r\n    if (mag < 50) {\r\n      this.velocity.x -= x;\r\n      this.velocity.y -= y;\r\n    } else {\r\n      this.velocity.x += x;\r\n      this.velocity.y += y;\r\n    }\r\n    //if (this.velocity.x > 5) this.velocity.x = 5;\r\n    //if (this.velocity.y > 5) this.velocity.y = 5;\r\n\r\n    this.x += this.velocity.x / 4;\r\n    this.y += this.velocity.y / 4;\r\n    this.velocity.x *= 0.99;\r\n    this.velocity.y *= 0.99;\r\n    /*\r\n    this.x -= x;\r\n    this.y -= y;\r\n    */\r\n    let red = Math.round(mag);\r\n    if (red > 255) {\r\n      red = 255;\r\n    }\r\n    this.color = `rgb(${red},150,150)`;\r\n    circle(this.x, this.y, this.size, this.color);\r\n    /*\r\n    context.translate(this.x, this.y);\r\n    context.rotate(angle);\r\n    img(arrow, 0, 0);\r\n    context.rotate(-angle);\r\n    context.translate(-this.x, -this.y);\r\n    */\r\n    /*\r\n    this.velocity.x += this.acceleration.x;\r\n    this.velocity.y += this.acceleration.y;\r\n    this.acceleration.x = 0;\r\n    this.acceleration.y = 0;\r\n    */\r\n  }\r\n}\r\nconst AMOUNT = 60;\r\nfunction init() {\r\n  for (let x = 0; x < AMOUNT; x++) {\r\n    for (let y = 0; y < AMOUNT; y++) {\r\n      Bodies.push(\r\n        new Body(\r\n          x * (window.innerWidth / AMOUNT),\r\n          y * (window.innerHeight / AMOUNT)\r\n        )\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nfunction clear() {\r\n  context.clearRect(0, 0, canvas.width, canvas.height);\r\n}\r\n\r\nfunction circle(x, y, s, c) {\r\n  context.beginPath();\r\n  context.fillStyle = c;\r\n  context.arc(x, y, s, 0, Math.PI * 2);\r\n  //  context.rect(x, y, 10, 1);\r\n  context.fill();\r\n}\r\n\r\nfunction img(img, x, y) {\r\n  context.drawImage(img, x, y, 15, 15);\r\n}\r\n\r\nfunction update() {\r\n  clear();\r\n  Bodies.forEach(body => body.update());\r\n}\r\n\r\nlet bees = false;\r\nlet first_time = true;\r\nlet bees_interval;\r\n\r\ndocument.getElementById(\"bees\").addEventListener(\"click\", () => {\r\n  if (!bees) {\r\n    if (first_time) {\r\n      init();\r\n      first_time = false;\r\n    }\r\n    bees_interval = setInterval(update, 1000 / 60);\r\n  } else {\r\n    clear();\r\n    clearInterval(bees_interval);\r\n  }\r\n  bees = !bees;\r\n});\r\n"]}